@startuml
'https://plantuml.com/class-diagram

'Modele'
package "MVC"{
    class LineSeparator {
        + LineSeparator()
        + getSeparator() : String
    }


    interface Sujet{
        +ajouterObservateur(Observateur)
        +supprimerObservateur(Observateur)
        +notifierObservateurs()
    }

    class Modele implements Sujet{
        - relation : Map<ClasseEntiere, ArrayList<Fleche>>
        - nomSelection : String
        + Modele()

        + ajouterClasse(ClasseEntiere)
        + supprimerClasse(ClasseEntiere)
        + ajouterRelation(ClasseEntiere, Fleche)
        + getClasses() : Set<ClasseEntiere>
        + getRelations(ClasseEntiere) : ArrayList<Fleche>
        + ajouterObservateur(Observateur)
        + supprimerObservateur(Observateur)
        + notifierObservateurs()
    }

    'Observateurs'

    interface Observateur{
        +actualiser(Sujet)
    }

    class VueClasse implements Observateur{
        - classes : ArrayList<Vbox>
        +VueClasse(Modele)
        +actualiser()
    }

    class VueFleche implements Observateur{
        +VueFleche(Modele)
        +actualiser()
    }

    class VueArboressence implements Observateur {
        + VueArboressence(Modele)
        + actualiser()
    }

    'Controlleurs'

    class ControleurBouton{
        +ControleurBouton(Modele)
        +handle(ActionEvent)
    }

    interface ClasseEntiereTitleIcon{
        getIcon() : Image
    }

    class AbstractClasseTitleIcon implements ClasseEntiereTitleIcon{
        +getIcon() : Image
    }

    class ClassEntiereTitleIcon implements ClasseEntiereTitleIcon{
        +getIcon() : Image
    }

    class InterfaceTitleIcon implements ClasseEntiereTitleIcon{
        +getIcon() : Image
    }

    class RecordTitleIcon implements ClasseEntiereTitleIcon{
        +getIcon() : Image
    }

}
'Classes'

class ClasseEntiere{
    -ConstructeurEstAffiche : boolean
    -AttributEstAffiche : boolean
    -MethodeEstAffiche : boolean
    -setAffichageConstructeurs()
    -setAffichageMethods()
    -setAffichageAttributs()
    +ClasseEntiere(path : String)
    +deplacer(int, int)
    +getAttributs() : ArrayList<Attribut>
    +getMethodes() : ArrayList<Methode>
    +getDefinition() : DefinitionClasse
    +getNom() : String
    +getX() : int
    +getY() : int
}

class FabriqueAffichageClasse{
    +FabriqueAffichageClasse(ClasseEntiere)
    +getDefinitionAffichage(): HBox
    +getAttributsAffichage(): HBox
    +getConstructeurAffichage(): HBox
    +getMethodesAffichage(): HBox
}

interface Entite{
    +getEntite() : String
}

class Classe implements Entite{
    +getEntite() : String
}

class Interface implements Entite{
    +getEntite() : String
}

class Enum implements Entite{
    +getEntite() : String
}

class Record implements Entite{
    +getEntite() : String
}



interface Accessibilite{
    +getAcces() : String
}

class Public implements Accessibilite{
    +getAcces() : String
}

class Private implements Accessibilite{
    +getAcces() : String
}

class Protected implements Accessibilite{
    +getAcces() : String
}

class Default implements Accessibilite{
    +getAcces() : String
}

interface Etat{
    +getEtat() : String
}

class Abstract implements Etat{
    +getEtat() : String
}

class Final implements Etat{
    +getEtat() : String
}

class Static implements Etat{
    +getEtat() : String
}

class DefinitionClasse{
    -nomClasse : String

    +DefinitionClasse(classe : Class<?>)
    +getNom() : String
    +getAccessibilite() : String
    +getEtat() : ArrayList<Etat>
    +getEntite() : String
}

class Attribut{
    -type : String
    -nom : String
    +Attribut(attr : Field)
    +getAccessibilite() : String
    +getEtat() : ArrayList<Etat>
    +getType() : String
    +getNom() : String
}

class Methode{
    -typeRetourne : String
    -nom : String

    +Methode(m : Method)
    +getNom() : String
    +getTypeRetourne() : String
    +getAccessibilite() : String
    +getEtat() : ArrayList<Etat>
    +getParametres() : ArrayList<Parametre>
}

class Constructeur {
    - nom : String
    + Constructeur(c : Constructor<?>)
    + getNom() : String
    + getAccessibilite() : String
    + getParametres() : ArrayList<Parametre>
}

class Parametre{
    +Parametre(param : Parameter)
    -type : String
    -nom : String
    +getType() : String
    +getNom() : String
}

class Point{
    - x : int
    - y : int
    + getX() : int
    + getY() : int
}

class FabriqueAccessibilite {
    + FabriqueAccessibilite()
    + getAccessibilite(access : int) : Accessibilite
}

class FabriqueEtat {
    + FabriqueEtat()
    + getEtat(modifiers : int) : ArrayList<Etat>
}

class FabriqueEntite {
    + FabriqueEntite()
    + getEntite(classe : Class<?>) : Entite
}


class Fleche {
    -EstAffiche : boolean
    +setAffichage()
}


'-----------------------------------'
'Associations'

Modele "1" --> "*" Observateur : -observateurs
VueClasse --> "0..1" Modele : - model
VueFleche --> "0..1" Modele : - model
VueArboressence --> "0..1" Modele : - model
Attribut "1" --> "0..1" Accessibilite : -accessibilite
Attribut "1" --> "*" Etat : -etats
DefinitionClasse "1" --> "0..1" Accessibilite : -accessibilite
DefinitionClasse "1" --> "0..*" Etat : -etats
DefinitionClasse "1" --> "0..1" Entite : -entite
Constructeur "1" --> "0..1" Accessibilite : -accessibilite
Constructeur "1" --> "*" Parametre : -parametres
Methode "1" --> "0..1" Accessibilite : -accessibilite
Methode "1" --> "*" Etat : etats
Methode "1" --> "*" Parametre : parametres
ClasseEntiere <-- FabriqueAffichageClasse :-Classe
ClasseEntiere "1" --> "1" DefinitionClasse : definitionClasse
ClasseEntiere "1" --> "*" Attribut : attributs
ClasseEntiere "1" --> "*" Methode : methodes
ClasseEntiere "1" --> "*" Constructeur : constructeurs
ClasseEntiere "1" --> "1" Point : -coordonnees
Fleche "1" --> "1" Accessibilite : accessibilite
Fleche "2" *-- Point : pointDebutFin
ControleurBouton --> "0..1" Modele : -modele


@enduml